<div class="profile-page py-6 px-4 lg:px-8">
  <p-toast></p-toast>
  <div [class]="theme.layout.container">
    <div class="grid">
      <!-- Left Column: Identity Card & Settings -->
      <div class="col-12 lg:col-5 xl:col-4">
        <app-profile-info
          [user]="user$ | async"
          (edit)="openEdit()"
          (security)="passwordDialog = true"
        >
        </app-profile-info>

        <!-- Preferences Section -->
        <app-profile-preferences [ambientColors]="ambientColors"> </app-profile-preferences>
      </div>

      <!-- Right Column: Booking History -->
      <div class="col-12 lg:col-7 xl:col-8">
        <app-profile-bookings [bookings]="userBookings$ | async"> </app-profile-bookings>
      </div>
    </div>
  </div>

  <!-- Edit Profile Dialog -->
  <app-profile-edit-dialog [(visible)]="editDialog" [form]="profileForm" (save)="saveProfile()">
  </app-profile-edit-dialog>

  <!-- Password Dialog -->
  <app-profile-password-dialog
    [(visible)]="passwordDialog"
    [form]="passwordForm"
    (update)="updatePassword()"
  >
  </app-profile-password-dialog>
</div>
